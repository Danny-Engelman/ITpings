<!DOCTYPE html>
<html lang="en">
<head>
    <title>ITpings Dashboard</title>

    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge"> <!-- â€  -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"-->
          <!--integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">-->
    <!--<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"-->
            <!--integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"-->
            <!--crossorigin="anonymous"></script>-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"-->
            <!--integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"-->
            <!--crossorigin="anonymous"></script>-->
    <!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"-->
            <!--integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"-->
            <!--crossorigin="anonymous"></script>-->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.1/moment.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
    <script language="JavaScript">

    </script>
    <!--
    https://flatuicolors.com/palette/nl
    -->
    <style>
        body {
            font-family: Helvetica Neue, Arial, sans-serif;
            font-size: 12px;
        }

        table {
            border: 1px solid #42b983;
            table-layout: fixed;
            width: 100%;
        }

        thead > tr > td {
            background-color: #42b983;
            color: beige;
            font-weight: bold;
        }

        td {
            text-align: center;
            color: darkgrey;
            overflow: hidden;
        }

        th, td {
            min-width: 60px;
        }

        [data-column='time'] {
            width: 12em;
        }

        @media (max-width: 1024px) {
            [data-column$='gtwid'],
            [data-column$='location_source'],
            [data-column='gtw_trusted'] {
                width: .1px;
                background: darkgrey;
            }
        }

        @media (min-width: 1024px) {
            [data-column='channel'],
            [data-column='rssi'],
            [data-column='snr'],
            [data-column='rf_chain'],
            [data-column$='gtwid'],
            [data-column='gtw_trusted'] {
                width: 6em;
            }
        }

        TBODY.updatedTBODY .fadeOutCell {
            animation: fadeOut 60s linear 0s;
        }

        @keyframes fadeOut {
            0% {
                background-color: lightgreen;
                color: black;
            }
            100% {
                background-color: transparent;
                color: darkgrey;
            }
        }

        table tbody:nth-child(odd).updatedTBODY {
            background-color: beige;
        }
    </style>
    <!--<style id="TABLE_hover_row_and_column" hidden>-->
    <!--table {-->
    <!--overflow: hidden;-->
    <!--}-->

    <!--tr:hover {-->
    <!--background-color: #ffa;-->
    <!--}-->

    <!--td, th {-->
    <!--position: relative;-->
    <!--}-->

    <!--td:hover::after,-->
    <!--th:hover::after {-->
    <!--content: "";-->
    <!--position: absolute;-->
    <!--background-color: #ffa;-->
    <!--left: 0;-->
    <!--top: -5000px;-->
    <!--height: 10000px;-->
    <!--width: 100%;-->
    <!--z-index: -1;-->
    <!--}-->
    <!--</style>-->
    <style id="hideTableColumnsWithCSS" disabled>
        [data-column='timestamp'],
        [data-column='created'],
        [data-column='payload_raw'],
        [data-column='downlink_url'] {
            display: none;
        }
    </style>
    <style id="itpings-chart">
        itpings-chart {
            height: 30vh;
            max-height: 30vh;
            position: relative;
        }

        .chart_interval {
            position: absolute;
            top: 2px;
            right: 2px;
        }

        .chart_interval > div {
            border: 1px solid grey;
            width: 2.1em;
            margin-right: 1px;
            text-align: center;
            position: relative;
            float: left;
            font-size: 10px;
        }

        .chart_interval > div:hover {
            cursor: pointer;
            background-color: green;
            color: white;
        }

        .selectedInterval {
            background-color: lightgreen;
        }
    </style>

    <script language="JavaScript" src="ITpings_dashboard.js"></script>

    <style>
        TR[data-dev_id='ttn_node_365csi_nl_002']{
            background-color: #42b983;
        }
    </style>
</head>
<body>
<table>
    <thead>
    <tr>
        <th></th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>
            <itpings-table query="applications"></itpings-table>
            <itpings-table query="devices"></itpings-table>
        </td>
        <td>
            <itpings-chart chartid="temp" sensorname="temperature_5" interval="2" intervalunit="DAY"></itpings-chart>
        </td>
        <td>
            <itpings-chart chartid="luminosity" sensorname="luminosity_6" interval="6"
                           intervalunit="HOUR"></itpings-chart>
        </td>
    </tr>
    <tr>
        <td>
            <itpings-table query="gateways"></itpings-table>
        </td>
        <td colspan="2">
            <itpings-table query="PingedGateways"></itpings-table>
            <itpings-table query="SensorValues"></itpings-table>
        </td>
    </tr>

    </tbody>
</table>
</body>
</html>